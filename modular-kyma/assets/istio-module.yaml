apiVersion: operator.kyma-project.io/v1alpha1
kind: ModuleTemplate
metadata:
  name: moduletemplate-istio
  namespace: kcp-system
  labels:
    "operator.kyma-project.io/managed-by": "lifecycle-manager"
    "operator.kyma-project.io/controller-name": "manifest"
    "operator.kyma-project.io/module-name": "istio"
  annotations:
    "operator.kyma-project.io/module-version": "0.0.1"
    "operator.kyma-project.io/module-provider": "internal"
    "operator.kyma-project.io/descriptor-schema-version": "v2"
spec:
  target: control-plane
  channel: regular
  data:
    apiVersion: install.istio.io/v1alpha1
    kind: IstioOperator
    metadata:
      namespace: istio-system
      name: istiocontrolplane
    spec:
      profile: demo
  descriptor:
    component:
      componentReferences: []
      name: kyma-project.io/istio
      provider: internal
      repositoryContexts:
      - baseUrl: ghcr.io/pbochynski/istio-module
        componentNameMapping: urlPath
        type: ociRegistry
      resources:
      - access:
          digest: sha256:8b8e04913f1f1780d107e0ca76f2e2f15f3a582bfd79203d382ad643e212a79d
          type: localOciBlob
        name: istio
        relation: local
        type: helm-chart
        version: 0.0.1
      - access:
          digest: sha256:4889b67f5468d6505e46cfe37a509c40aca954d87145c19e9b9034674e5e8e4a
          type: localOciBlob
        name: config
        relation: local
        type: yaml
        version: 0.0.1
      sources:
      - access:
          commit: ff8901b9c0e3b65668d81c391a9898ad2c78168a
          ref: refs/heads/main
          repoUrl: https://github.com/pbochynski/istio
          type: github
        name: istio
        type: git
        version: 0.0.1
      version: 0.0.1
    meta:
      schemaVersion: v2
